spring.application.name=infrastructure
server.port=${PORT:8081}

spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:vertra-db}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:password}
spring.datasource.driver-class-name=org.postgresql.Driver

#include adapter properties
spring.config.import=optional:classpath:web.properties,optional:classpath:security.properties,optional:classpath:persistence.properties,optional:file:./.env[.properties]

spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
#spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.order_updates=true

spring.liquibase.enabled=false
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml
spring.liquibase.default-schema=public
spring.liquibase.liquibase-schema=public

jwt.secret=${JWT_SECRET:your-256-bit-secret-key-change-this-in-production-must-be-at-least-32-characters-long}
jwt.issuer=${JWT_ISSUER:vertra-api}
jwt.expiration-ms=${JWT_EXPIRATION_MS:3600000}
jwt.refresh-expiration-ms=${JWT_REFRESH_EXPIRATION_MS:2592000000}
jwt.algorithm=HS256

spring.cache.type=redis
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=60000
spring.data.redis.password=password

rate-limit.enabled=true
rate-limit.default-limit=100
rate-limit.window-seconds=3600

# OAuth Configuration
oauth.redirect-base-url=${OAUTH_REDIRECT_BASE_URL:http://localhost:8081}

# Google OAuth
oauth.google.client-id=${GOOGLE_CLIENT_ID:}
oauth.google.client-secret=${GOOGLE_CLIENT_SECRET:}
oauth.google.scope=openid email profile

# GitHub OAuth
oauth.github.client-id=${GITHUB_CLIENT_ID:}
oauth.github.client-secret=${GITHUB_CLIENT_SECRET:}
oauth.github.scope=read:user user:email

# Microsoft OAuth
oauth.microsoft.client-id=${MICROSOFT_CLIENT_ID:}
oauth.microsoft.client-secret=${MICROSOFT_CLIENT_SECRET:}
oauth.microsoft.scope=openid email profile User.Read
